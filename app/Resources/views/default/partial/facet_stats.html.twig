{% set page = 1 %}
{% for specimenId, classWithDiff in stats.summary %}
    <div class="wrapper well well-sm ">
        <div class="row">
        <div class="col-xs-12">
        {% set specimen = attribute(specimensRecolnat, specimenId) | first %}
        {% set determination = specimen.determinations | first %}
        
        
        {% if determination.taxon is defined and determination.taxon is not empty %}
            {% set taxon = determination.taxon %}
        {% else %}
            {% set taxon = 'label.notaxon' | trans %}
        {% endif %}
        
        {% set path='' %}
        {% if page != currentPage %}
            {% set path = path('diff', {'page' : page}) %}
        {% endif %}
        
        <a href="{{path}}#{{specimenId}}">{{taxon}}</a>
        
        {% for className in classWithDiff | keys %}
            {% set nbDiffs = countDiffs(stats, className, specimenId) %}
            {% set nbChoices = countChoices(choices, specimenId, className) %}
            <div class ="{{ nbDiffs == nbChoices ? ' text-success' :  'text-warning'}}" id="facet-{{specimenId}}">
                {{className}} : 
                {{ 'label.choix' | transchoice(nbChoices, {'%nbChoices%': nbChoices}) }} / 
                {{ 'label.differences' | transchoice(nbDiffs, {'%nbDiffs%': nbDiffs}) }}
            </div>
        {% endfor %}
        
        {% if ( loop.index % itemNumberPerPage) == 0  %}
            {% set page = page +1 %}
        {% endif %}
        </div>
    </div>
    </div>
{% endfor %}
